<input type="file" onchange="previewFile()"><br>
<img src="" height="200" alt="Image preview...">
<script>
    function previewFile() {
    const preview = document.querySelector('img');
    const file = document.querySelector('input[type=file]').files[0];
    const reader = new FileReader();
  
    reader.addEventListener("load", function () {
      // convert image file to base64 string
      preview.src = reader.result;
      //console.log(reader.result);
    }, false);
  
    if (file) {
      reader.readAsDataURL(file);
    }
  };
</script>

<script>
    const ws = new WebSocket('ws://127.0.0.1:45449/devtools/browser/')
    function SendsCommands() {
        ws.send(JSON.stringify({
            id: 1,
            method: 'DOM.setAttributeValue',
            params: {
            NodeId: 2,
            Name: 'img',
            Value: previewFile
            },
        }));
        console.log("SendsCommands is OK.");
    }
    ws.onopen = SendsCommands;

</script>